import{n as s,s as a,S as e,i as t,E as n,h as r,e as l,F as o,j as c,c as m,a as i,d as f,b as g,G as $,f as p,m as u,o as h,H as d,M as G,N as j,O as b}from"../index-5451a665.js";import v from"./GameList.c8d4a59c.js";import{t as w}from"../tagsFilter-86f4ad15.js";import"./Tag.7283c2eb.js";import x from"./Tags.80b2c190.js";import"./GameTeaser.ed704cc0.js";import E from"./SearchGames.63145869.js";const F=[];function T(s){let a,e,t,G,j,b,w,F,T,S;return a=new E({props:{allGames:s[0],tagsFilter:s[2]}}),a.$on("update",s[5]),j=new x({props:{tags:[...s[3]]}}),T=new v({props:{games:s[1]}}),{c(){n(a.$$.fragment),e=r(),t=l("div"),G=r(),n(j.$$.fragment),b=r(),w=l("div"),F=r(),n(T.$$.fragment),this.h()},l(s){o(a.$$.fragment,s),e=c(s),t=m(s,"DIV",{class:!0}),i(t).forEach(f),G=c(s),o(j.$$.fragment,s),b=c(s),w=m(s,"DIV",{class:!0}),i(w).forEach(f),F=c(s),o(T.$$.fragment,s),this.h()},h(){g(t,"class","spacing-small svelte-1w0xbv1"),g(w,"class","spacing-large svelte-1w0xbv1")},m(s,n){$(a,s,n),p(s,e,n),p(s,t,n),p(s,G,n),$(j,s,n),p(s,b,n),p(s,w,n),p(s,F,n),$(T,s,n),S=!0},p(s,[e]){const t={};1&e&&(t.allGames=s[0]),4&e&&(t.tagsFilter=s[2]),a.$set(t);const n={};2&e&&(n.games=s[1]),T.$set(n)},i(s){S||(u(a.$$.fragment,s),u(j.$$.fragment,s),u(T.$$.fragment,s),S=!0)},o(s){h(a.$$.fragment,s),h(j.$$.fragment,s),h(T.$$.fragment,s),S=!1},d(s){d(a,s),s&&f(e),s&&f(t),s&&f(G),d(j,s),s&&f(b),s&&f(w),s&&f(F),d(T,s)}}}function S(e,t,n){let r,{allGames:l}=t;const o=l.reduce((s,a)=>(a.tags.forEach(a=>{s.add(a)}),s),new Set),c=function(e,t=s){let n;const r=[];function l(s){if(a(e,s)&&(e=s,n)){const s=!F.length;for(let s=0;s<r.length;s+=1){const a=r[s];a[1](),F.push(a,e)}if(s){for(let s=0;s<F.length;s+=2)F[s][0](F[s+1]);F.length=0}}}return{set:l,update:function(s){l(s(e))},subscribe:function(a,o=s){const c=[a,o];return r.push(c),1===r.length&&(n=t(l)||s),a(e),()=>{const s=r.indexOf(c);-1!==s&&r.splice(s,1),0===r.length&&(n(),n=null)}}}}([]);G(e,c,s=>n(2,r=s)),j(w.key,{toggleTag:s=>{r.includes(s)?b(c,r=r.filter(a=>a!==s),r):b(c,r=[...r,s],r)}});let m=l;return e.$$set=s=>{"allGames"in s&&n(0,l=s.allGames)},[l,m,r,o,c,s=>{n(1,m=s.detail)}]}export default class extends e{constructor(s){super(),t(this,s,S,T,a,{allGames:0})}}
