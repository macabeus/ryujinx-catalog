import{n as s,s as a,S as t,i as e,E as n,h as r,e as l,F as o,j as m,c,a as f,d as i,b as g,G as $,f as p,m as u,o as h,H as d,M as G,N as b,O as j}from"../index-5451a665.js";import v from"./GameList.090f8b54.js";import{t as w}from"../tagsFilter-86f4ad15.js";import"./Tag.7283c2eb.js";import x from"./Tags.80b2c190.js";import"./GameTeaser.24482c00.js";import E from"./SearchGames.63145869.js";const F=[];function T(s){let a,t,e,G,b,j,w,F,T,S;return a=new E({props:{allGames:s[0],tagsFilter:s[2]}}),a.$on("update",s[5]),b=new x({props:{tags:[...s[3]]}}),T=new v({props:{games:s[1]}}),{c(){n(a.$$.fragment),t=r(),e=l("div"),G=r(),n(b.$$.fragment),j=r(),w=l("div"),F=r(),n(T.$$.fragment),this.h()},l(s){o(a.$$.fragment,s),t=m(s),e=c(s,"DIV",{class:!0}),f(e).forEach(i),G=m(s),o(b.$$.fragment,s),j=m(s),w=c(s,"DIV",{class:!0}),f(w).forEach(i),F=m(s),o(T.$$.fragment,s),this.h()},h(){g(e,"class","spacing-small svelte-1w0xbv1"),g(w,"class","spacing-large svelte-1w0xbv1")},m(s,n){$(a,s,n),p(s,t,n),p(s,e,n),p(s,G,n),$(b,s,n),p(s,j,n),p(s,w,n),p(s,F,n),$(T,s,n),S=!0},p(s,[t]){const e={};1&t&&(e.allGames=s[0]),4&t&&(e.tagsFilter=s[2]),a.$set(e);const n={};2&t&&(n.games=s[1]),T.$set(n)},i(s){S||(u(a.$$.fragment,s),u(b.$$.fragment,s),u(T.$$.fragment,s),S=!0)},o(s){h(a.$$.fragment,s),h(b.$$.fragment,s),h(T.$$.fragment,s),S=!1},d(s){d(a,s),s&&i(t),s&&i(e),s&&i(G),d(b,s),s&&i(j),s&&i(w),s&&i(F),d(T,s)}}}function S(t,e,n){let r,{allGames:l}=e;const o=l.reduce((s,a)=>(a.tags.forEach(a=>{s.add(a)}),s),new Set),m=function(t,e=s){let n;const r=[];function l(s){if(a(t,s)&&(t=s,n)){const s=!F.length;for(let s=0;s<r.length;s+=1){const a=r[s];a[1](),F.push(a,t)}if(s){for(let s=0;s<F.length;s+=2)F[s][0](F[s+1]);F.length=0}}}return{set:l,update:function(s){l(s(t))},subscribe:function(a,o=s){const m=[a,o];return r.push(m),1===r.length&&(n=e(l)||s),a(t),()=>{const s=r.indexOf(m);-1!==s&&r.splice(s,1),0===r.length&&(n(),n=null)}}}}([]);G(t,m,s=>n(2,r=s)),b(w.key,{toggleTag:s=>{r.includes(s)?j(m,r=r.filter(a=>a!==s),r):j(m,r=[...r,s],r)}});let c=l;return t.$$set=s=>{"allGames"in s&&n(0,l=s.allGames)},[l,c,r,o,m,s=>{n(1,c=s.detail)}]}export default class extends t{constructor(s){super(),e(this,s,S,T,a,{allGames:0})}}
